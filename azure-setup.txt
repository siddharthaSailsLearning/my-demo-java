 ->>>>>> CI - PIPELINE SETUP <<<<<<-

Enable APIs:

gcloud config set project fluted-factor-438905-d2
gcloud services enable artifactregistry.googleapis.com
gcloud services enable iam.googleapis.com



Create an artifact Registry docker repository

gcloud artifacts repositories create azure-dev-artif-reg --repository-format=docker --location=us-central1 --description="Docker images for CI"


# Artifact Registry writer role is enough for pushing images
gcloud projects add-iam-policy-binding fluted-factor-438905-d2 --member="serviceAccount:siddhu-service-account@fluted-factor-438905-d2.iam.gserviceaccount.com" --role="roles/artifactregistry.writer"


 ->>>>>>>> CD - PIPELINE SETUP <<<<<<<<-

gcloud config set project fluted-factor-438905-d2

gcloud services enable container.googleapis.com artifactregistry.googleapis.com iam.googleapis.com containeranalysis.googleapis.com

gcloud projects add-iam-policy-binding fluted-factor-438905-d2 --member="serviceAccount:siddhu-service-account@fluted-factor-438905-d2.iam.gserviceaccount.com" --role="roles/artifactregistry.reader"

gcloud container clusters create jenkins-deploy-cluster --region us-central1 --num-nodes=1 --machine-type=e2-medium --workload-pool=fluted-factor-438905-d2.svc.id.goog

gcloud container node-pools create node-pool-pullers --cluster=jenkins-deploy-cluster --region=us-central1 --num-nodes=1 --disk-type=pd-standard --service-account=siddhu-service-account@fluted-factor-438905-d2.iam.gserviceaccount.com



